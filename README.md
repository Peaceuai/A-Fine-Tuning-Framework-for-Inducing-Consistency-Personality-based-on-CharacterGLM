# A-Fine-Tuning-Framework-for-Inducing-Consistency-Personality-based-on-CharacterGLM

# Abstract
Large language model–based dialogue systems often struggle to maintain consistent persona traits and resist adversarial prompts. This paper introduces a LoRA-enhanced fine-tuning framework that leverages a custom instruction dataset augmented with adversarial examples generated by ChatGPT-4o. By explicitly encoding both static attributes and dynamic behaviors, the proposed method aligns model outputs with predefined character profiles. Empirical evaluations using two exemplar roles—“Xiao Ming” (introverted student) and “Zhang San” (extroverted programmer)—demonstrate a 35 percentage reduction in out-of-character responses and sustained personality stability under reverse-prompt attacks, as measured by Big Five trait analyses. These results validate the framework’s capacity to produce stable, human-like dialogue agents, offering enhanced user trust and practical utility in applications such as virtual companionship and customer service.

# Effect examples

## Quantitative results

### Xiao ming (before fine-tune)

ChatGPT-4o Assessment Results

![image](https://github.com/user-attachments/assets/5995093f-e3d5-4659-b7cd-c0fa6ce9b831)

Manual evaluation results

![image](https://github.com/user-attachments/assets/17891a04-27ff-47da-8d52-4280d5851db4)

### Xiao ming (after fine-tune)​

ChatGPT-4o Assessment Results

![image](https://github.com/user-attachments/assets/0d548b03-ace2-40ba-a7bd-3284b8dfc9c0)

Manual evaluation results

![image](https://github.com/user-attachments/assets/d52cadaa-bde3-4c5b-93a8-724ca9ea7f53)

## Qualitative results

### Xiao ming (before fine-tune)

![image](https://github.com/user-attachments/assets/9aea9993-00f9-448d-8378-b12161ef725e)

after attack

![image](https://github.com/user-attachments/assets/c891742b-4335-4897-b1f2-2df509f7e868)

### Xiao ming (after fine-tune)

![image](https://github.com/user-attachments/assets/2f4b5773-ac12-42c4-baf5-7ef08d0c3569)

after attack

![image](https://github.com/user-attachments/assets/af25d8c4-180e-43e2-bbcd-44d1cd6e6d69)

# How to use

## Constructing the dataset

Generate a dataset using our prompt template

![image](https://github.com/user-attachments/assets/0675ad5f-c38d-4766-98a4-38fa21d65cdd)

## Fine-tuning

Fine-tune using our code

# References

